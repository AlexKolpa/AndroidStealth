\subsection{User Experience}
\label{sec:approach-and-design:user-experience}

\todo{Rewrite this since it's been moved here}

Within this subsection we will briefly elaborate on our design
choices in user experience design related to locking and hiding
of both data and the app. Finally, we briefly discuss the 
philosophy behind the styling. 

\subsubsection{Locking and Hiding of Data}

The most important part of this project, is the ability to hide
ones files. This means, as mentioned earlier, that hidden media
files should not be visible anymore in the Android media
gallery, and that with a file browser, one still shouldn't be
able to open any of the hidden files, as they would be
encrypted. However, this also means that while the sensitive
files are hidden and locked away, the user wouldn't be able to
directly open the files. Therefore, the user should have the
ability to unlock files, so that the data can be looked at,
shared, and even modified.

The issue here with unlocked files, is that these may be
forgotten by the user, and then, by a third party, found and
opened using a file browser. This issue was solved by showing
a clear warning to the user, explaining that some files are
unlocked and that, therefore, they could be leaked.
The user is presented with a persistent notification in the
notification drawer of Android, with the message that some of
the user's files are unlocked. When the notification is pressed,
all unlocked files are immediately locked. This
provides a user friendly way to swiftly lock the files back so
they can't be found, without the need to reopen the app, which
can take much more time, depending on the chosen method of
hidden and protecting the DroidStealth app. 

Furthermore, depending on the size, unlocking files could take a
minute or more, as the encryption service would have to perform a
full decryption process. During this process, another notification 
is shown, where the user is informed
of the fact that some files are currently in the process of
being unlocked. Once the user taps on it, the decryption is
canceled by emptying the queue; the currently de- or encrypted file is finished.


\subsubsection{Locking and Hiding of DroidStealth}

For an app that prevents others from finding your sensitive
data by means of a casual search, it is required that this app
can't be found easily as well. Obviously, if the app were to be
found by those you want to hide your files from, they will be
convinced that you might have sensitive files hidden. Hence, the
searcher might go further than a casual search, in order to
obtain the sensitive files. We have incorporated a few options to hide 
DroidStealth, and to launch the app using some secret methods.

\textbf{Casual Launch}
The trivial, default way of launching DroidStealth is through the app drawer of an Android device. 
When launching the application the first time, the user is promted to enter a pin that will be used to access the application.
On following launches, the app will present the user with a keyboard to enter the pin of the user. If the pin is correct, the 
DroidStealth will launch into the secret gallery. However, if the pin is incorrect, the user won't be able to enter the application.


\textbf{Hiding from App Drawer}
The user has the option to hide DroidStealth completely from the drawer. This 
means that the user should think of different means of launching the application, 
which will be discussed in the next parts. A limitation is that the app can still be found
in the application list in the Android settings screen. 

\textbf{Launch with Dialer}
The user may select the option to launch the application by calling a special number
in the regular dialer of the phone. Instead of actually calling the filled in number, the
application will be launched, presenting the user with the pin keyboard. Furthermore,
the application removes upon launch the last entry of the call log of the phone, so that
an attacked can't figure out the launch code, by simply checking the call log.

A potential security issue here, is that when a user fills in the wrong launch code, the 
entry won't be removed from the call log, and thus an attacked could be hinted towards
the right pin. Also, if a user had made more mistakes, the attacker could merge the 
suspicious call log entries, and deduct the correct pin. A possible solution would be to
check the call log for entries that are similar to the actual one, and to remove those as well.

\textbf{Launch with Widget}
Another option is to launch the app by means of an invisible widget on the user's home screen. 
When the user adds a widget to the home screen, it will still be visible, until the user presses on it. 
From that point on, when the user presses the invisible widget 5 times, the app is launched, showing the pin keyboard.

When adding a new access widget, all previously placed widgets become visible. This allows 
the user to retrieve forgotten widgets. Of course, this is a potential security threat, as this 
provides attackers an easy way of finding the hidden widget. We must remind ourselves, 
however, that we are focusing on casual search. Also, if this would be combined with
a morphed DroidStealth, attackers would never know which widget of which app should be
placed, unless widget previews are provided.

